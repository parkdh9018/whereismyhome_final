<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" 
	"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
	
<mapper namespace="com.ssafy.vue.model.mapper.HouseDealMapper">

	<!-- 아파트  -->
	<select id="getAptByaptCode" parameterType="map" resultType="apartDealDto">
	    SELECT D.no, D.dealAmount, D.dealYear, D.dealMonth, D.dealDay, D.area, D.floor, B.aptCode, B.buildyear, B.dong, B.roadName, B.roadNameBonbun, B.apartmentName, B.lng, B.lat
		FROM Housedeal as D                      
	        LEFT OUTER JOIN houseinfo B ON D.aptCode = B.aptCode
       	where D.aptCode = #{aptCode}
	    
	</select> 
	
	<!-- 다세대주택 -->
	<select id="listMultiplexHouseDeal" parameterType="map" resultType="houseDealDto">
		select * from multiplex
	</select>
	
	<select id="getMultiplexHouseDeal" parameterType="map" resultType="houseDealDto">
		select *
		from multiplex
		where code LIKE CONCAT(#{sgdong_cd}, '%')
		group by code
	</select>
	
	<select id="getMultiplexHouseDealDetail" parameterType="map" resultType="houseDealDto">
		select *
		from multiplex
		where code = #{code}
	</select>
	
	<!-- 오피스텔 -->
	<select id="listOfficetelDeal" parameterType="map" resultType="houseDealDto">
		select * from officetel
	</select>
	
	<select id="getOfficetelDeal" parameterType="map" resultType="houseDealDto">
		select *
		from officetel
		where code LIKE CONCAT(#{sgdong_cd}, '%')
	</select>
	<select id="getOfficetelDealDetail" parameterType="map" resultType="houseDealDto">
		select *
		from officetel
		where code = #{code}
	</select>
	
	<!-- 단독주택 -->
	<select id="listPrivateHouseDeal" parameterType="map" resultType="houseDealDto">
		select * from privatehousedeal
	</select>
	
	<select id="getPrivateHouseDeal" parameterType="map" resultType="houseDealDto">
		select *
		from privatehousedeal
		where bjdong_cd = #{bjdong_cd} and sgg_cd = #{sgg_cd}
	</select>
	
	
</mapper>

