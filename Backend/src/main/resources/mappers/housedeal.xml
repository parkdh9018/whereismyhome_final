<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" 
	"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
	
<mapper namespace="com.ssafy.vue.model.mapper.HouseDealMapper">

	<!-- 아파트  -->
	<select id="getApartDeal" parameterType="map" resultType="houseDealDto">
		select * 
		from deal
		where sgd_cd = #{sgd_cd}
		<if test="cell == null or cell == ''">
			or deal_type = "매매"
		</if>
		<if test="year != null and year != ''">
			or deal_type = "전세"
		</if>
		<if test="month != null and month != ''">
			or deal_type = "월세"
		</if>
		and house_type="아파트"
	</select>

	<select id="getApartDealDetail" parameterType="map" resultType="houseDealDto">
		select *
		from deal
		where sgdbb_cd = #{sgdbb_cd}
		<if test="cell == null or cell == ''">
			or deal_type = "매매"
		</if>
		<if test="year != null and year != ''">
			or deal_type = "전세"
		</if>
		<if test="month != null and month != ''">
			or deal_type = "월세"
		</if>
		and house_type="아파트"
	</select>


	<!-- 연립다세대 -->
	<select id="getMultiplexHouseDeal" parameterType="map" resultType="houseDealDto">
		select *
		from deal
		where bjdong_cd = #{bjd_cd}
		<if test="cell == null or cell == ''">
			or deal_type = "매매"
		</if>
		<if test="year != null and year != ''">
			or deal_type = "전세"
		</if>
		<if test="month != null and month != ''">
			or deal_type = "월세"
		</if>
		and house_type="연립다세대"
	</select>
	
	<select id="getMultiplexHouseDealDetail" parameterType="map" resultType="houseDealDto">
		select *
		from deal
		where sgdbb_cd = #{sgdbb_cd}
		<if test="cell == null or cell == ''">
			or deal_type = "매매"
		</if>
		<if test="year != null and year != ''">
			or deal_type = "전세"
		</if>
		<if test="month != null and month != ''">
			or deal_type = "월세"
		</if>
		and house_type="연립다세대"
	</select>
	
	<!-- 오피스텔 -->
	<select id="getOfficetelDeal" parameterType="map" resultType="houseDealDto">
		select *
		from deal
		where sgd_cd = #{sgd_cd}
		<if test="cell == null or cell == ''">
			or deal_type = "매매"
		</if>
		<if test="year != null and year != ''">
			or deal_type = "전세"
		</if>
		<if test="month != null and month != ''">
			or deal_type = "월세"
		</if>
		and house_type="오피스텔"
	</select>
	
	<select id="getOfficetelDealDetail" parameterType="map" resultType="houseDealDto">
			select *
		from deal
		where sgdbb_cd = #{sgdbb_cd}
		<if test="cell == null or cell == ''">
			or deal_type = "매매"
		</if>
		<if test="year != null and year != ''">
			or deal_type = "전세"
		</if>
		<if test="month != null and month != ''">
			or deal_type = "월세"
		</if>
		and house_type="오피스텔"
	</select>
	

	
</mapper>

